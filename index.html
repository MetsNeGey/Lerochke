<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–õ–µ—Ä–æ—á–∫–µ, —Å –Ω–æ–≤—ã–º –≥–æ–¥–æ–º</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Montserrat:wght@500&display=swap');

html,body{
    margin:0;
    height:100%;
    background:linear-gradient(180deg,#0b1f33,#1e4258);
    overflow:hidden;
    color:#fff;
    font-family:'Montserrat',sans-serif;
}

/* –°–ù–ï–ì */
.snow{
    position:fixed;
    top:-10px;
    pointer-events:none;
    animation:fall linear infinite;
}
@keyframes fall{
    to{transform:translateY(110vh)}
}

/* –û–°–ù–û–í–ê */
.container{
    height:100%;
    display:flex;
    justify-content:center;
    align-items:center;
    padding:20px;
    box-sizing:border-box;
}

.card{
    width:100l%;
    max-width:480px;
    background:rgba(255,255,255,0.15);
    border-radius:28px;
    padding:32px 26px;
    text-align:center;
    backdrop-filter:blur(10px);
    box-shadow:0 20px 40px rgba(0,0,0,0.35);
}

.text{
    font-size:22px;
    line-height:1.45;
    min-height:120px;
}

/* –ö–ù–û–ü–ö–ò */
button{
    margin-top:22px;
    width:100%;
    padding:16px;
    font-size:18px;
    border:none;
    border-radius:30px;
    background:#e53935;
    color:white;
    font-weight:600;
}

.choice button{
    background:rgba(255,255,255,0.22);
    margin-top:14px;
}

/* –ü–ò–¢–ï–† ‚Äî –¢–ê–ú–ë–û–í */
.footer{
    position:fixed;
    bottom:22px;
    width:100%;
    text-align:center;
    font-family:'Playfair Display',serif;
    font-size:22px;
    letter-spacing:2px;
    opacity:0.85;
}
.footer span{
    color:#ff9aa2;
    margin:0 10px;
}

/* –§–ò–ù–ê–õ */
#final{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.85);
    display:none;
    align-items:center;
    justify-content:center;
    flex-direction:column;
    z-index:10;
    text-align:center;
}
.heart{
    font-size:110px;
    color:crimson;
    animation:pulse 1.4s infinite;
}
@keyframes pulse{
    50%{transform:scale(1.15)}
}
.final-text{
    margin-top:14px;
    font-size:26px;
    font-family:'Playfair Display',serif;
}
</style>
</head>

<body>

<!-- –ê–£–î–ò–û -->
<audio id="music" loop src="https://cdn.pixabay.com/audio/2022/12/06/audio_2f6a0c0c3c.mp3"></audio>
<audio id="click" src="https://cdn.pixabay.com/audio/2022/03/15/audio_7f7f43d0b1.mp3"></audio>
<audio id="party" src="https://cdn.pixabay.com/audio/2022/03/10/audio_1b2b2f3df0.mp3"></audio>

<div class="container">
    <div class="card" id="card">
        <div class="text" id="text">
            –ü–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –Ω–∞—á–∞—Ç—å‚Ä¶<br>
            –¥–∞–≤–∞–π –≤–∫–ª—é—á–∏–º –º—É–∑—ã–∫—É üíñ
        </div>
        <button onclick="enableMusic()">–í–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É</button>
    </div>
</div>

<div class="footer">
    –ü–ò–¢–ï–† <span>‚ù§Ô∏è</span> –¢–ê–ú–ë–û–í
</div>

<div id="final">
    <div class="heart">‚ù§Ô∏è</div>
    <div class="final-text">
        –° –ù–æ–≤—ã–º –ì–æ–¥–æ–º,<br>
        –º–æ—è –õ–µ—Ä–æ—á–∫–∞
    </div>
</div>

<script>
/* –°–ù–ï–ì */
for(let i=0;i<50;i++){
    let s=document.createElement("div");
    s.className="snow";
    s.textContent="‚ùÑ";
    s.style.left=Math.random()*100+"vw";
    s.style.fontSize=12+Math.random()*16+"px";
    s.style.opacity=Math.random();
    s.style.animationDuration=4+Math.random()*6+"s";
    document.body.appendChild(s);
}

/* –ê–£–î–ò–û */
const music=document.getElementById("music");
const click=document.getElementById("click");
const party=document.getElementById("party");
let step=0;

/* –í–ö–õ–Æ–ß–ï–ù–ò–ï –ú–£–ó–´–ö–ò */
function enableMusic(){
    music.volume=0;
    music.play();
    let v=0;
    function fade(){
        v+=0.01;
        music.volume=Math.min(v,0.4);
        if(v<0.4) requestAnimationFrame(fade);
    }
    fade();
    click.play();
    next();
}

/* –°–¶–ï–ù–ê–†–ò–ô */
function next(){
    const t=document.getElementById("text");
    const c=document.getElementById("card");
    click.play();

    if(step===0){
        t.innerHTML="–ü—Ä–∏–≤–µ—Ç, –±—É—Å–∏–Ω–∫–∞.<br>–Ø –Ω–∞–¥–µ—é—Å—å, —É —Ç–µ–±—è –≤—Å—ë —Ö–æ—Ä–æ—à–æ üíô";
        c.innerHTML+=`<button onclick="next()">–î–∞–ª—å—à–µ</button>`;
    }
    if(step===1){
        t.innerHTML="–°–∫–æ—Ä–æ –ù–æ–≤—ã–π –ì–æ–¥‚Ä¶<br>–∏ —Ç—ã –ø—Ä–∞–≤–¥–∞ –¥—É–º–∞–ª–∞, —á—Ç–æ —è –æ—Å—Ç–∞–≤–ª—é —Ç–µ–±—è –±–µ–∑ –ø–æ–¥–∞—Ä–∫–∞? üéÑ";
    }
    if(step===2){
        c.innerHTML=`
        <div class="text">–ö–∞–∫ –¥—É–º–∞–µ—à—å, —á—Ç–æ —ç—Ç–æ?</div>
        <div class="choice">
            <button onclick="choice(1)">–≠—Ç–æ –ê–ª–∏—Å–∫–∞</button>
            <button onclick="choice(2)">–≠—Ç–æ –°—ë–º–∞</button>
            <button onclick="choice(3)">–ú–æ–∂–µ—Ç –±—ã—Ç—å —ç—Ç–æ –ª–æ–∂–∫–∞?</button>
        </div>`;
    }
    step++;
}

function choice(n){
    click.play();
    if(n===1){
        party.play();
        document.getElementById("final").style.display="flex";
    }else{
        document.getElementById("card").innerHTML=`
        <div class="text">
        ${n===2?"–°–µ–º—ë–Ω –ø–æ—è–≤–∏—Ç—Å—è —á—É—Ç—å –ø–æ–∑–∂–µ‚Ä¶":"–≠—Ç–æ –∂–µ —è —Ö–æ—á—É‚Ä¶"}
        </div>
        <button onclick="back()">–í–µ—Ä–Ω—É—Ç—å—Å—è</button>`;
    }
}

function back(){
    click.play();
    step=2;
    next();
}
</script>

</body>
</html>